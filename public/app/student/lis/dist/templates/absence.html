<h2>{{ T('LIS_STUDENTABSENCE')}}</h2>

<table>
    <th>{{T('LIS_ABSENCE')}}</th>
    <tr ng-repeat="subjectRound in subjectRounds">

        <td>
            <b class="subjectRoundFormating">{{ subjectRound.name}}</b><br><br>

            <ul>
                <li ng-repeat="contactLesson in subjectRound.contactLesson" style="border-top: solid gray 1px">
                    <ul>
                        <li ng-repeat="absence in contactLesson.absence" class="absencereasonposition">
                            <br>{{absence.absenceReason.name}}
                        </li>
                    </ul>
                    {{ FormatDate(contactLesson.lessonDate.date)}}
                    - {{ contactLesson.sequenceNr}}
                    <br>Klass: {{ contactLesson.rooms.name}}

                    <ul>
                        <li ng-repeat="teacher in subjectRound.teacher">
                            {{teacher.name}}
                        </li>
                        <li>
                            <br>
                        </li>
                    </ul>

                </li>

            </ul>
        </td>
    </tr>
</table>

<form class="form-horizontal col-md-6" role="form" name="filterStudentAbsence" ng-submit="Filter()">
    <fieldset>
        <legend>{{ T('LIS_STUDENTABSENCEFILTER')}}</legend>

        <div class="col-md-12">
            <p class="input-group">
                <span class="input-group-addon" id="filterForm-startlessonDate">{{ T('SEARCH_A_STARTLESSONDATE')}}</span>
                <input type="text" name="startlessonDateFilter" class="form-control" uib-datepicker-popup="{{format}}" ng-model="studentAbsenceFilter.contactLesson.lessonDate.date" placeholder="{{ T('LIS_LESSONDATE')}}" aria-describedby="filterForm-startlessonDateFilter" is-open="popup1.opened" datepicker-options="dateOptions" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>
        
        <div class="col-md-12">
            <p class="input-group">
                <span class="input-group-addon" id="filterForm-endlessonDate">{{ T('SEARCH_A_ENDLESSONDATE')}}</span>
                <input type="text" name="endlessonDateFilter" class="form-control" uib-datepicker-popup="{{format}}" ng-model="studentAbsenceFilter.contactLesson.lessonDate.$invalid" placeholder="{{ T('LIS_LESSONDATE')}}" aria-describedby="filterForm-endlessonDate" is-open="popup2.opened" datepicker-options="dateOptions" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>

    </fieldset>
</form>

<table>

</table>