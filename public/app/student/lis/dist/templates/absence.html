<h2>{{ T('LIS_STUDENTABSENCE')}}</h2>

<form class="form-horizontal col-md-6" role="form" name="filterStudentAbsence" ng-submit="Filter(filterStudentAbsence.$valid)">
    <fieldset>
        <legend>{{ T('LIS_STUDENTABSENCEFILTER')}}</legend>

        <div class="col-md-12">
            <p class="input-group">
                <span class="input-group-addon" id="filterForm-startlessonDate">{{ T('SEARCH_A_STARTLESSONDATE')}}</span>
                <input type="text" name="startDate" class="form-control" uib-datepicker-popup="{{format}}" ng-model="studentAbsenceFilter.startDate" placeholder="{{ T('LIS_LESSONDATE')}}" aria-describedby="filterForm-startlessonDateFilter" is-open="popup1.opened" datepicker-options="dateOptions" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>

        <div class="col-md-12">
            <p class="input-group">
                <span class="input-group-addon" id="filterForm-endlessonDate">{{ T('SEARCH_A_ENDLESSONDATE')}}</span>
                <input type="text" name="endDate" class="form-control" uib-datepicker-popup="{{format}}" ng-model="studentAbsenceFilter.endDate" placeholder="{{ T('LIS_LESSONDATE')}}" aria-describedby="filterForm-endlessonDate" is-open="popup2.opened" datepicker-options="dateOptions" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>

        <div class="col-md-12">
            <button type="button" class="btn btn-primary" ng-click="ClearFilters()"><span class="glyphicon glyphicon-trash">{{ T('LIS_CLEAR')}}</span></button>
            <button type="submit" class="btn btn-primary">{{ T('LIS_FILTER')}}</button>
        </div>

    </fieldset>
</form>

<table class="studentTable">
    <th>{{T('LIS_ABSENCE')}}</th>
    <tr ng-repeat="subjectRound in subjectRounds">

        <td>
            <b class="subjectRoundFormating">{{ subjectRound.name}}</b><br><br>

            <ul>
                <li ng-repeat="contactLesson in subjectRound.contactLesson" style="border-top: solid gray 1px">
                    <ul>
                        <li ng-repeat="studentGrade in contactLesson.studentGrade" class="absencereasonposition">
                            <br>{{studentGrade.gradeChoice.name}}
                        </li>
                    </ul>
                    {{ FormatDate(contactLesson.lessonDate.date)}}
                    - {{ contactLesson.sequenceNr}}
                    
                    <br>Ã•petaja: {{ contactLesson.teacher.name}}
                    <br>Klass: {{ contactLesson.rooms.name}}
                    <ul>
                        <li ng-repeat="teacher in subjectRound.teacher">
                            {{teacher.name}}
                        </li>
                        <li>
                            <br>
                        </li>
                    </ul>

                </li>

            </ul>
        </td>
    </tr>
</table>